<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IUT RIDE</title>

  <!-- Fonts and Styles -->
  <link rel="stylesheet" href="style.css" />
  <link
    href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap"
    rel="stylesheet"
  />
</head>
<body>
  <!-- Page Wrapper for Transition Animation -->
  <div id="page-wrapper" class="fade-in">

    <!-- ===== Header & Navigation ===== -->
    <header>
      <nav class="navbar">
        <div class="brand">IUT RIDE</div>
        <ul class="nav-links">
          <li><a href="subscribe.html">S'inscrire</a></li>
          <li><a href="connect.html">Se connecter</a></li>
          <li><a href="map.html">Gare disponible</a></li>
          <li><a href="cantact.html">nous cantacter</a></li>
        </ul>
        <button id="toggleTheme" class="theme-toggle">🌙 Dark Mode</button>
      </nav>
    </header>

    <!-- ===== Main Content ===== -->
    <main>
      <!-- Hero Section -->
      <section class="hero">
        <img src="logo_Cov_Auto.png" alt="Logo Cov'Auto" class="logo" />
        <h1>Bienvenue chez <span>IUT RIDE</span></h1>
        <hr class="divider" />
        <h3>Un covoiturage pour étudiant.</h3>
      </section>

      <!-- Map Section -->
      <section class="map-section">
        <img src="carte.png" alt="Carte du service" class="map" />
      </section>
    </main>

    <!-- ===== Footer ===== -->
    <footer>
      <div class="footer-container">
        <img src="logo_Cov_Auto.png" alt="Logo Footer" class="footer-logo" />
        <p>© IUT RIDE by MZOUGHI Wassim, MVULA Sven & AISSA Anis </p>
      </div>
    </footer>
  </div>

  <!-- Transition & Theme Toggle Script -->
  <script>
    const pageWrapper = document.getElementById('page-wrapper');
    const themeToggle = document.getElementById('toggleTheme');
  
    // DARK MODE TOGGLE
    themeToggle?.addEventListener('click', () => {
      document.body.classList.toggle('dark');
      themeToggle.textContent = document.body.classList.contains('dark')
        ? '☀️ Light Mode'
        : '🌙 Dark Mode';
    });
  
    // LINK TRANSITION HANDLER
    document.querySelectorAll('a').forEach(link => {
      if (link.hostname === window.location.hostname && !link.href.includes('#')) {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          pageWrapper.classList.remove('fade-in');
          pageWrapper.classList.add('fade-out');
          setTimeout(() => {
            window.location.href = link.href;
          }, 500);
        });
      }
    });
  
    // FADE-IN ON LOAD
    function ensureVisible() {
      pageWrapper.classList.remove('fade-out');
      pageWrapper.classList.add('fade-in');
    }
  
    // Ensure visible on first load
    document.addEventListener('DOMContentLoaded', ensureVisible);
  
    // Ensure visible on back/forward nav (from bfcache)
    window.addEventListener('pageshow', (e) => {
      ensureVisible();
    });
  
    // Also handle edge cases where performance API works better
    if (performance.getEntriesByType("navigation")[0]?.type === "back_forward") {
      ensureVisible();
    }
  </script>
  
</body>
</html>